---
title: "lab_04"
author: "derek willis"
date: "8/11/2022"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Load libraries and establish settings
```{r}
# Turn off scientific notation
options(scipen=999)

# Load the tidyverse. If you have not installed the tidyverse already, remove the # from the next line and run it first.  
# install.packages('tidyverse')
library(tidyverse)
```

## Getting Started

Let's keep working with Maryland contribution data. In this exercise we're going to explore the relationship between campaign contribution and what researchers call "economic connectedness" - basically the degree to which people have cross-class friendships - that is detailed in [this New York Times piece](https://www.nytimes.com/interactive/2022/08/01/upshot/rich-poor-friendships.html). You should read that before proceeding, and look at [Social Capital](https://www.socialcapital.org/), the site that explores the data. If you search Social Capital for a zip code (20742, for example), you'll see that it will say that 70.1 percent of low socioeconomic status individuals' friends are high income. The actual data you'll load will display this score as double the percentage that's displayed. Just keep that in mind.

Let's start by reading in our Maryland U.S. House contribution data, which is in the lab_04.rds file in your data folder.


```{r}
# read in the rds file
```

To answer the questions below, you'll need to make a dataframe with the number of contributions and total amount for every 5-digit zip code, and then calculate the average donation. Then you'll join that dataframe to data containing economic connectedness scores for every zip code in Maryland. There's a particular set of steps you'll need to perform to make this work properly.

First, let's create the dataframe with totals by each 5-digit Maryland zip code. Hint: if your zip code column contains values longer than 5 digits, you can extract substrings of a specified length.

```{r}

```

Next, let's load the economic connectedness data, which is in the data folder as `maryland_ec_data.csv`:

```{r}

```

Next join the two dataframes on your 5-digit zip code. If you encounter an error, check to see if it's like one contained in the pre_lab.

```{r}

```


## Answer questions

Q1. Look at the joined dataframe - what do you notice about the rows, and what are your options for dealing with it? You don't have to have code here, but you can add it if it helps your answer.
A1. 

Q2. Organize the dataframe so that you see the zip code with the greatest number of contributions first. What is that zip code and what is the economic connectedness value (`ec_zip`)? Where is the zip code located?
A2. 

```{r}

```

Q3. A lower ec_zip score means less economic connectedness in that zip code. How many zip codes had more than 1 contribution and a ec_zip score of less than 1? What zip code had the lowest ec_zip score and where is that? How could you learn more about the contributions made from that zip code - you don't need to write code to answer this part, just write a sentence or two about what you would do.
A3. 

```{r}

```

Q4. Do Maryland zip codes with lower economic connectedness scores also have lower average contributions? Explain, in code and in text below, how you would answer that and what you can conclude? If you're not sure about the code, be sure to write out the process.
A4: 

```{r}

```

Q5. The Social Capital data also includes a `volunteering_rate_zip` score, which is the percentage of Facebook users in that zip code who are members of a group predicted to be about volunteering or activism. How many Maryland zip codes have a volunteering rate of at least 0.10 (10%) and at least 5 contributions and what county has the most such zip codes? Which large population counties do not appear on this list?

HINT: To get county names, you can use the `county` column in your dataframe to join it to `md_counties.csv` in your data folder after you read that file in. Look for the column in that CSV file that has identical values to the `county` column.

A5. 

```{r}

```

Q6. Using code, find a zip code in the data that has more than a single contribution but no `ec_zip` score. If you can't figure out the code to show that, tell me in your answer how you would do it in a more manual way. Find that zip code on the Social Capital site and tell me where it is and what the site says about the lack of an economic connectedness score. What kind of community is it demographically? You may use whatever research skills you have to answer this last part.
A6. 


```{r}

```

